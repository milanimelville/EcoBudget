{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="dashboard-container">

    <main class="dashboard-main">
        <section class="summary">
            <div class="card">
                <h3>Total Spent</h3>
                <p>${{ total_spent }}</p>
            </div>
            <div class="card">
                <h3>Eco Spent</h3>
                <p>${{ eco_spent }}</p>
            </div>
            <div class="card">
                <h3>Non-Eco Spent</h3>
                <p>${{ non_eco_spent }}</p>
            </div>
        </section>
     

        <section class="transactions">
            <h2>Recent Transactions</h2>
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Item</th>
                        <th>Amount</th>
                        <th>Category</th>
                    </tr>
                </thead>
                <tbody>
                       {% for transaction in transactions %}
            <tr>
                <td>{{ transaction.date|date:"Y-m-d" }}</td>
                <td>{{ transaction.item_name }}</td>
                <td>${{ transaction.amount }}</td>
                <td>{{ transaction.category.name }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">No transactions yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <p><a href="{% url 'transactions' %}">View All Transactions â†’</a></p>
</section>
    </main>
</div>

{% endblock %}
